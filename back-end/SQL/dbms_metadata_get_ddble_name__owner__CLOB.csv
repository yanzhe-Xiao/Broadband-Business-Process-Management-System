"
  CREATE TABLE ""C##BSS_DATA"".""APP_USER"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""USERNAME"" VARCHAR2(64) NOT NULL ENABLE, 
	""PASSWORD"" VARCHAR2(128) NOT NULL ENABLE, 
	""FULL_NAME"" VARCHAR2(128), 
	""PHONE"" VARCHAR2(32), 
	""EMAIL"" VARCHAR2(128), 
	""STATUS"" VARCHAR2(16) DEFAULT 'ACTIVE' NOT NULL ENABLE, 
	""TENANT_ID"" VARCHAR2(64), 
	""DELETED"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED_AT"" TIMESTAMP (6), 
	""VERSION"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 UNIQUE (""USERNAME"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_APP_USER_STATUS"" CHECK (status IN ('ACTIVE','LOCKED','DISABLED')) ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""ENGINEER_STATUS"" 
   (	""USER_ID"" NUMBER(19,0), 
	""IS_IDLE"" NUMBER(1,0) DEFAULT 1 NOT NULL ENABLE, 
	""ACTIVE_TICKET_CNT"" NUMBER(6,0) DEFAULT 0 NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	 PRIMARY KEY (""USER_ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_ENG_USER"" FOREIGN KEY (""USER_ID"")
	  REFERENCES ""C##BSS_DATA"".""APP_USER"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""IP_POOL"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""IP"" VARCHAR2(64) NOT NULL ENABLE, 
	""STATUS"" VARCHAR2(16) NOT NULL ENABLE, 
	""ORDER_ID"" NUMBER(19,0), 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	""IP_BANDWIDTH"" NUMBER(10,0) DEFAULT 1000 NOT NULL ENABLE, 
	""AVALIABLE_BANDWIDTH"" NUMBER(10,0) DEFAULT 1000 NOT NULL ENABLE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""UQ_IP_POOL_IP"" UNIQUE (""IP"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_IP_POOL_STATUS"" CHECK (status IN ('FREE','ASSIGNED')) ENABLE, 
	 CONSTRAINT ""FK_IP_POOL_ORDER"" FOREIGN KEY (""ORDER_ID"")
	  REFERENCES ""C##BSS_DATA"".""ORDERS"" (""ID"") ON DELETE SET NULL ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""ORDERS"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""USER_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""STATUS"" VARCHAR2(16) DEFAULT '待支付' NOT NULL ENABLE, 
	""DELETED"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED_AT"" TIMESTAMP (6), 
	""VERSION"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	""INSTALLATION_FEE"" NUMBER(10,2), 
	""PROVINCE"" VARCHAR2(64), 
	""CITY"" VARCHAR2(64), 
	""DISTRICT"" VARCHAR2(64), 
	""DETAIL_ADDRESS"" VARCHAR2(256), 
	""INSTALL_ADDRESS"" VARCHAR2(512), 
	""END_TIME"" DATE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_ORDERS_STATUS"" CHECK (STATUS IN (
                          '待支付',
                          '已支付',
                          '待派单',
                          '已分配工单',
                          '工单已完成',
                          '待评价',
                          '已完成',
                          '已取消'
            )) ENABLE, 
	 CONSTRAINT ""FK_ORDER_CUSTOMER"" FOREIGN KEY (""USER_ID"")
	  REFERENCES ""C##BSS_DATA"".""APP_USER"" (""ID"") ON DELETE CASCADE ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""ORDER_EVENT"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""ORDER_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""EVENT"" VARCHAR2(64) NOT NULL ENABLE, 
	""PAYLOAD"" CLOB, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_ORDER_EVENT_ORDER"" FOREIGN KEY (""ORDER_ID"")
	  REFERENCES ""C##BSS_DATA"".""ORDERS"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""ORDER_ITEM"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""ORDER_ID"" NUMBER(19,0), 
	""PLAN_CODE"" VARCHAR2(32) NOT NULL ENABLE, 
	""QTY"" NUMBER(10,0) DEFAULT 1 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	""STATUS"" VARCHAR2(64) DEFAULT '在购物车中' NOT NULL ENABLE, 
	""USERNAME"" VARCHAR2(255) NOT NULL ENABLE, 
	""PLAN_TYPE"" VARCHAR2(10) NOT NULL ENABLE, 
	""PERIOD"" NUMBER(*,0) DEFAULT 0 NOT NULL ENABLE, 
	""STATUS_EXPIRE_AT"" TIMESTAMP (6), 
	""END_TIME"" DATE, 
	""IP"" VARCHAR2(64), 
	""DEVICE_SN"" VARCHAR2(64), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CK_ORDER_ITEM_PLAN_TYPE"" CHECK (PLAN_TYPE IN ('month', 'year', 'forever')) ENABLE, 
	 CONSTRAINT ""CK_OI_QTY_FOREVER"" CHECK (UPPER(PLAN_TYPE) <> 'FOREVER' OR QTY = 1) ENABLE, 
	 CONSTRAINT ""CK_ORDER_ITEM_STADUS"" CHECK (""STATUS"" = '在购物车中' OR ""STATUS"" = '待支付' OR ""STATUS"" = '已支付' OR ""STATUS"" ='已取消') ENABLE, 
	 CONSTRAINT ""FK_ORDERS_PLAN"" FOREIGN KEY (""PLAN_CODE"")
	  REFERENCES ""C##BSS_DATA"".""TARIFF_PLAN"" (""PLAN_CODE"") ENABLE, 
	 CONSTRAINT ""FK_ORDER_ITEM_USERNAME"" FOREIGN KEY (""USERNAME"")
	  REFERENCES ""C##BSS_DATA"".""APP_USER"" (""USERNAME"") ENABLE, 
	 CONSTRAINT ""FK_ORDER_ITEM_ORDER"" FOREIGN KEY (""ORDER_ID"")
	  REFERENCES ""C##BSS_DATA"".""ORDERS"" (""ID"") ENABLE, 
	 CONSTRAINT ""FK_ORDER_ITEM_IP"" FOREIGN KEY (""IP"")
	  REFERENCES ""C##BSS_DATA"".""IP_POOL"" (""IP"") ENABLE, 
	 CONSTRAINT ""FK_ORDER_ITEM_DEVICE"" FOREIGN KEY (""DEVICE_SN"")
	  REFERENCES ""C##BSS_DATA"".""RESOURCE_DEVICE"" (""SN"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""OUTBOX_EVENT"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""AGGREGATE"" VARCHAR2(64) NOT NULL ENABLE, 
	""AGGREGATE_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""EVENT_TYPE"" VARCHAR2(64) NOT NULL ENABLE, 
	""PAYLOAD"" CLOB, 
	""STATUS"" VARCHAR2(16) DEFAULT 'NEW' NOT NULL ENABLE, 
	""RETRY_COUNT"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_OUTBOX_STATUS"" CHECK (status IN ('NEW','SENT','FAILED')) ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""PERMISSION"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""GROUP_CODE"" VARCHAR2(64) NOT NULL ENABLE, 
	""CODE"" VARCHAR2(128) NOT NULL ENABLE, 
	""NAME"" VARCHAR2(128) NOT NULL ENABLE, 
	""TYPE"" VARCHAR2(32) DEFAULT 'API' NOT NULL ENABLE, 
	""PRE_RESOURCE"" VARCHAR2(256), 
	""ACTION"" VARCHAR2(32), 
	""META_JSON"" CLOB, 
	""DELETED"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED_AT"" TIMESTAMP (6), 
	""VERSION"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 UNIQUE (""CODE"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_PERM_GROUP"" FOREIGN KEY (""GROUP_CODE"")
	  REFERENCES ""C##BSS_DATA"".""PERM_GROUP"" (""CODE"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""PERM_GROUP"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""CODE"" VARCHAR2(64) NOT NULL ENABLE, 
	""NAME"" VARCHAR2(128) NOT NULL ENABLE, 
	""SORT_NO"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED_AT"" TIMESTAMP (6), 
	""VERSION"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 UNIQUE (""CODE"")
  USING INDEX  ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""RATING"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""PLAN_CODE"" VARCHAR2(32) NOT NULL ENABLE, 
	""USER_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""SCORE"" NUMBER(2,0) NOT NULL ENABLE, 
	""RAT_COMMENT"" VARCHAR2(512), 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""ORDER_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	 CONSTRAINT ""CHK_RATING_SCORE"" CHECK (score BETWEEN 1 AND 5) ENABLE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_RATING_USER"" FOREIGN KEY (""USER_ID"")
	  REFERENCES ""C##BSS_DATA"".""APP_USER"" (""ID"") ENABLE, 
	 CONSTRAINT ""FK_RATING_TARIFFPLAN"" FOREIGN KEY (""PLAN_CODE"")
	  REFERENCES ""C##BSS_DATA"".""TARIFF_PLAN"" (""PLAN_CODE"") ENABLE, 
	 CONSTRAINT ""RATING_RATING__FK"" FOREIGN KEY (""ORDER_ID"")
	  REFERENCES ""C##BSS_DATA"".""ORDERS"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""RESOURCE_DEVICE"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""SN"" VARCHAR2(64) NOT NULL ENABLE, 
	""MODEL"" VARCHAR2(64), 
	""QTY"" NUMBER(5,0) NOT NULL ENABLE, 
	""PRICE"" NUMBER(10,2) NOT NULL ENABLE, 
	""STATUS"" VARCHAR2(16) NOT NULL ENABLE, 
	""ORDER_ID"" NUMBER(19,0), 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""UQ_RESOURCE_DEVICE_SN"" UNIQUE (""SN"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_RESOURCE_DEVICE_STATUS"" CHECK (status IN ('STOCK','ASSIGNED','RETIRED')) ENABLE, 
	 CONSTRAINT ""FK_RESOURCE_DEVICE_ORDER"" FOREIGN KEY (""ORDER_ID"")
	  REFERENCES ""C##BSS_DATA"".""ORDERS"" (""ID"") ON DELETE SET NULL ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""ROLE"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""ROLE_CODE"" VARCHAR2(64) NOT NULL ENABLE, 
	""ROLE_NAME"" VARCHAR2(128) NOT NULL ENABLE, 
	""STATUS"" VARCHAR2(16) DEFAULT 'ACTIVE' NOT NULL ENABLE, 
	""DATA_SCOPE"" VARCHAR2(64), 
	""DELETED"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED_AT"" TIMESTAMP (6), 
	""VERSION"" NUMBER(10,0) DEFAULT 0 NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 UNIQUE (""ROLE_CODE"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_ROLE_STATUS"" CHECK (status IN ('ACTIVE','DISABLED')) ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""ROLE_PERMISSION"" 
   (	""ROLE_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""PERM_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	 PRIMARY KEY (""ROLE_ID"", ""PERM_ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_RP_ROLE"" FOREIGN KEY (""ROLE_ID"")
	  REFERENCES ""C##BSS_DATA"".""ROLE"" (""ID"") ENABLE, 
	 CONSTRAINT ""FK_RP_PERM"" FOREIGN KEY (""PERM_ID"")
	  REFERENCES ""C##BSS_DATA"".""PERMISSION"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""TARIFF_PLAN"" 
   (	""PLAN_CODE"" VARCHAR2(32), 
	""NAME"" VARCHAR2(100) NOT NULL ENABLE, 
	""MONTHLY_FEE"" NUMBER(12,2) DEFAULT null, 
	""YEARLY_FEE"" NUMBER(12,2) DEFAULT null, 
	""FOREVER_FEE"" NUMBER(12,2) DEFAULT null, 
	""PLAN_PERIOD"" NUMBER(10,0), 
	""DISCOUNT"" NUMBER(5,2) DEFAULT 100.00 NOT NULL ENABLE, 
	""STATUS"" VARCHAR2(16) DEFAULT 'ACTIVE' NOT NULL ENABLE, 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	""IS_IP"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""BANDWITH"" NUMBER(10,0), 
	""DESCRIPTION"" VARCHAR2(256), 
	""DEVICE_QTY"" NUMBER(5,0), 
	""QTY"" NUMBER(10,0) DEFAULT 1 NOT NULL ENABLE, 
	""IMAGE_URL"" VARCHAR2(256), 
	""RATING"" NUMBER(2,1) DEFAULT 5.0 NOT NULL ENABLE, 
	""DEVICE_SN"" VARCHAR2(64), 
	 PRIMARY KEY (""PLAN_CODE"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_TARIFF_STATUS"" CHECK (status IN ('ACTIVE','INACTIVE')) ENABLE, 
	 CONSTRAINT ""TARIFF_PLAN_PK"" UNIQUE (""NAME"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_TARIFF_PLAN_DEVICE"" FOREIGN KEY (""DEVICE_SN"")
	  REFERENCES ""C##BSS_DATA"".""RESOURCE_DEVICE"" (""SN"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""TICKET"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""ORDER_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""STATUS"" VARCHAR2(16) DEFAULT '新建' NOT NULL ENABLE, 
	""ASSIGNEE_ID"" NUMBER(19,0), 
	""NOTE"" VARCHAR2(512), 
	""DISPATCHED_AT"" TIMESTAMP (6), 
	""COMPLETED_AT"" TIMESTAMP (6), 
	""DELETED"" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	""DELETED_AT"" TIMESTAMP (6), 
	""CREATED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	""UPDATED_AT"" TIMESTAMP (6), 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_TICKET_STATUS"" CHECK (STATUS IN ('新建','已分配','进行中','已完成','已取消')) ENABLE, 
	 CONSTRAINT ""FK_TKT_ORDER"" FOREIGN KEY (""ORDER_ID"")
	  REFERENCES ""C##BSS_DATA"".""ORDERS"" (""ID"") ENABLE, 
	 CONSTRAINT ""FK_TKT_ENG"" FOREIGN KEY (""ASSIGNEE_ID"")
	  REFERENCES ""C##BSS_DATA"".""APP_USER"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""TICKET_EVENT"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""TICKET_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""EVENT_CODE"" VARCHAR2(32) NOT NULL ENABLE, 
	""NOTE"" VARCHAR2(512), 
	""HAPPENED_AT"" TIMESTAMP (6) DEFAULT SYSTIMESTAMP NOT NULL ENABLE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""CHK_EVT_CODE"" CHECK (event_code IN ('现场勘察', '布线/熔纤', '上网测速', '设备安装与上电', '光功率测试', '用户签字确认')) ENABLE, 
	 CONSTRAINT ""FK_EVT_TICKET"" FOREIGN KEY (""TICKET_ID"")
	  REFERENCES ""C##BSS_DATA"".""TICKET"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""TICKET_EVENT_IMAGE_URL"" 
   (	""ID"" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""TICKET_EVENT_ID"" NUMBER(*,0) NOT NULL ENABLE, 
	""IMAGE_URL"" VARCHAR2(255) NOT NULL ENABLE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 FOREIGN KEY (""TICKET_EVENT_ID"")
	  REFERENCES ""C##BSS_DATA"".""TICKET_EVENT"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""USER_ROLE"" 
   (	""ID"" NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	""USER_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	""ROLE_ID"" NUMBER(19,0) NOT NULL ENABLE, 
	 PRIMARY KEY (""ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""UK_USER_ROLE_USER_ROLE"" UNIQUE (""USER_ID"", ""ROLE_ID"")
  USING INDEX  ENABLE, 
	 CONSTRAINT ""FK_UR_USER"" FOREIGN KEY (""USER_ID"")
	  REFERENCES ""C##BSS_DATA"".""APP_USER"" (""ID"") ENABLE, 
	 CONSTRAINT ""FK_UR_ROLE"" FOREIGN KEY (""ROLE_ID"")
	  REFERENCES ""C##BSS_DATA"".""ROLE"" (""ID"") ENABLE
   ) "
"
  CREATE TABLE ""C##BSS_DATA"".""flyway_schema_history"" 
   (	""installed_rank"" NUMBER(*,0) NOT NULL ENABLE, 
	""version"" VARCHAR2(50), 
	""description"" VARCHAR2(200) NOT NULL ENABLE, 
	""type"" VARCHAR2(20) NOT NULL ENABLE, 
	""script"" VARCHAR2(1000) NOT NULL ENABLE, 
	""checksum"" NUMBER(*,0), 
	""installed_by"" VARCHAR2(100) NOT NULL ENABLE, 
	""installed_on"" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE, 
	""execution_time"" NUMBER(*,0) NOT NULL ENABLE, 
	""success"" NUMBER(1,0) NOT NULL ENABLE, 
	 CONSTRAINT ""flyway_schema_history_pk"" PRIMARY KEY (""installed_rank"")
  USING INDEX  ENABLE
   ) "
